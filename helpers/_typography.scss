// stylelint-disable declaration-no-important

// =======================================
// ^HELPERS.TYPOGRAPHY
// =======================================

@mixin ekzo-typography-helpers($prefix: '', $postfix: '') {

  // ---------------------------------------
  // Complex text helpers
  // ---------------------------------------
  // Including font-sizes, line-heights
  // For headings also included font-weight, font style and colors (if enabled in settings)

  // ----
  // Text

  @each $variant, $value in ekzo-get($ekzo-font-sizes, text) {
    @if $variant == 'base' { $variant: ''; }

    .#{$prefix}text#{$variant}#{$postfix} {
      @include ekzo-font-size($value);
    }

  }

  // ----
  // ems
  // @todo So far I'm not sure is it good idea to generate line-height for dynamic
  //       elements like ems. However, seems that it properly scales and
  //       at least tries to maintain close to ideal line-height proportion
  //       even after stacking few times

  @each $variant, $value in ekzo-get($ekzo-font-sizes, ems) {

    .#{$prefix}text--em#{$variant}#{$postfix} {
      @include ekzo-font-size($value);
    }

  }

  // ----
  // Standard headings
  //
  // When we define a heading we also define a corresponding class to go with it.
  // This allows us to apply, say, `class="h3"` to any heading to receive a `h3`-like heading

  @each $variant, $value in ekzo-get($ekzo-font-sizes, headings) {

    .#{$prefix}#{$variant}#{$postfix} {
      @extend %#{$ekzo-g-ns}headings-properties;

      @include ekzo-font-size($value);
    }

  }

  // ----
  // Extra headings
  //
  // A series of classes for setting massive type; for use in heroes, promos, etc.

  @each $variant, $value in ekzo-get($ekzo-font-sizes, extra-headings) {

    .#{$prefix}extra-h#{$variant}#{$postfix} {
      @include ekzo-theme() { @if ekzo-theme(extra-headings) { color: ekzo-theme(extra-headings); } }

      @include ekzo-font-size($value);

      @if ekzo-ui-font-family(extra-headings) { font-family: ekzo-ui-font-family(extra-headings); }
    }

  }

  // ---------------------------------------
  // Font-sizes helpers
  // ---------------------------------------
  // Only font-size property, without line-heights

  @each $variant, $value in ekzo-get($ekzo-font-sizes, text) {
    @if $variant == 'base' { $variant: ''; }

    .#{$prefix}font-size#{$variant}#{$postfix} { font-size: $value; }

  }

  @each $variant, $value in ekzo-get($ekzo-font-sizes, headings) {

    .#{$prefix}font-size--#{$variant}#{$postfix} { font-size: $value; }

  }

  @each $variant, $value in ekzo-get($ekzo-font-sizes, extra-headings) {

    .#{$prefix}font-size--extra-h#{$variant}#{$postfix} { font-size: $value; }

  }

  // ----
  // em font-sizes

  @each $variant, $value in ekzo-get($ekzo-font-sizes, ems) {

    .#{$prefix}font-size--em#{$variant}#{$postfix} { font-size: $value; }

  }

  .#{$prefix}font-size--inherit#{$postfix} { font-size: inherit; }

  // ---------------------------------------
  // Line-height helpers
  // ---------------------------------------
  // @todo Those seems to be very specific, and I'm really not sure that we ever
  //       would need those. Let's see will we use them in future or no

  @each $variant, $value in ekzo-get($ekzo-font-sizes, text) {
    @if $variant == 'base' { $variant: ''; }

    .#{$prefix}line-height#{$variant}#{$postfix} { @include ekzo-line-height($value); }

  }

  @each $variant, $value in ekzo-get($ekzo-font-sizes, headings) {

    .#{$prefix}line-height--#{$variant}#{$postfix} { @include ekzo-line-height($value); }

  }

  @each $variant, $value in ekzo-get($ekzo-font-sizes, extra-headings) {

    .#{$prefix}line-height--extra-h#{$variant}#{$postfix} { @include ekzo-line-height($value); }

  }

  // ----
  // Take element out of typography rhythm
  // Should be applied on custom elements with unusual styling

  .#{$prefix}line-height0#{$postfix}    { line-height: 1 !important; }

  .#{$prefix}text--tracked#{$postfix}   { letter-spacing:  .16em; }
  .#{$prefix}text--tracked--#{$postfix} { letter-spacing: -.05em; }
  .#{$prefix}text--tracked\+#{$postfix} { letter-spacing:  .32em; }
  .#{$prefix}text--tracked0#{$postfix}  { letter-spacing:  0; }

}

// ---------------------------------------
// Call all typography helpers
// ---------------------------------------

@include ekzo-typography-helpers($prefix: $ekzo-h-ns);

// ---------------------------------------
// Responsive typography helpers
// ---------------------------------------

@include ekzo-for-each-breakpoint($matches: $ekzo-responsive-typography-helpers-breakpoints) {
  @include ekzo-typography-helpers($prefix: $ekzo-h-ns, $postfix: ekzo-temp());
}