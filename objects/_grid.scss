@if $use-grid {

// =======================================
// ^GRIDS
// =======================================
//
// Fluid and nestable grid system, e.g.:
//
// @example
//
//		<div class="grid">
//
//			<div class="grid__item 1/3">
//				<p>One third grid</p>
//			</div>
//			<div class="grid__item 2/2">
//				<p>Two thirds grid</p>
//			</div>
//			<div class="grid__item 1/2">
//				<p>One half grid</p>
//			</div>
//			<div class="grid__item 1/4">
//				<p>One quarter grid</p>
//			</div>
//			<div class="grid__item 1/4">
//				<p>One quarter grid</p>
//			</div>
//
//		</div>
//
// @demo: jsfiddle.net/inuitcss/CLYUC


// ---------------------------------------
// Grid
// ---------------------------------------
//
// 1. Positioning gutter in the center
// 2. For usage of the grid on lists

.grid {
	list-style: none; // 2

	margin-bottom: 0; // 2
	margin-left:   -$base-spacing-unit; // 1

	@extend %clear;
}

	.grid__item {
		display: inline-block;
		@include vendor(box-sizing, border-box);

		vertical-align: top;

		padding-left: $base-spacing-unit; // 1
	}


// -----
// Very infrequently occurring grid wrappers as children of grid wrappers.

.grid > .grid { margin-left: 0; }



// ---------------------------------------
// Flag Grid
// ---------------------------------------
//
// Throws grid in flag mode
// In that mode grid behaves like table and it's content
// centred vertically

.grid--flag {
	display: table;

	> .grid__item {
		display: table-cell;
		vertical-align: middle;
	}

}


// -----
// Centrers content bottom
//
// @extends .grid--flag

.grid--flag--bottom { > .grid__item { vertical-align: bottom; } }



// ---------------------------------------
// Grid fixes
// ---------------------------------------

// -----
// Grid's inline-blocks whitespace fix

.grid { letter-spacing: -0.31em; }
// Opera hack
.opera:-o-prefocus,
.grid { word-spacing: -0.43em; }

	.grid__item {
		letter-spacing: normal;
		word-spacing: normal;
	}

// -----
// Used to fix strange behaviour in Firefox on inline-grids

.grid--nofix { letter-spacing: normal; }

} // endif



// -----
// Grid types

@mixin grid-types($namespace: '') {

	.#{$namespace}grid--reset {
		display: inline-block;

		> .grid__item {
			display: inline-block;
			vertical-align: top;
		}

	}

	.#{$namespace}grid--half {
		margin-left: -$half-spacing-unit;

		> .grid__item { padding-left: $half-spacing-unit; }

	}

	.#{$namespace}grid--wide {
		margin-left: -$twice-spacing-unit;

		> .grid__item { padding-left: $twice-spacing-unit; }

	}

	.#{$namespace}grid--wider {
		margin-left: -$base-spacing-unit * 3;

		> .grid__item { padding-left: $base-spacing-unit * 3; }

	}

	.#{$namespace}grid--full {
		margin-left: 0;

		> .grid__item { padding-left: 0; }

	}

	.#{$namespace}grid--center {
		text-align: center;

		> .grid__item { text-align: left; }

	}

}

@include grid-types();

@if $use-grid {
	@if $responsive {

		@each $breakpoint, $value in $breakpoints {
			@include breakpoint($breakpoint) {
				@include grid-types('#{$breakpoint}-');
			}
		}

	} // endif
} // endif