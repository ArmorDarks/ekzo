@if $ekzo-enable-grid {

// =======================================
// ^GRIDS
// =======================================
//
// Fluid and nestable grid system

// ---------------------------------------
// Grid
// ---------------------------------------
// Extend with flex helpers `h-flex--*` to align items and do some other nice stuff
//
// 1. Positioning gutter in the center
// 2. For usage of the grid on lists

.#{$ekzo-ns}#{$ekzo-objects-ns}grid {
  display:    flex;
  flex-wrap:  wrap;
  list-style: none;                   // 2

  padding-left:  0;                   // 2

  margin-bottom: 0;                   // 2
  margin-left:   - ekzo-spacing(1); // 1

  // Very infrequently occurring grid wrappers as children of grid wrappers.
  & > & { margin-left: 0; }

}

  .#{$ekzo-ns}#{$ekzo-objects-ns}grid__item {
    box-sizing: border-box;
    padding-left: ekzo-spacing(1); // 1
  }

} // endif

// ---------------------------------------
// Grid modifiers
// ---------------------------------------

@mixin ekzo-grid-types($postfix: '') {

  // ----
  // Grid gutter sizes

  .#{$ekzo-ns}#{$ekzo-objects-ns}grid--#{$postfix} {
    margin-left: - ekzo-spacing(.5);

    > .#{$ekzo-ns}#{$ekzo-objects-ns}grid__item { padding-left: ekzo-spacing(.5); }

  }

  .#{$ekzo-ns}#{$ekzo-objects-ns}grid\+#{$postfix} {
    margin-left: - ekzo-spacing(2);

    > .#{$ekzo-ns}#{$ekzo-objects-ns}grid__item { padding-left: ekzo-spacing(2); }

  }

  .#{$ekzo-ns}#{$ekzo-objects-ns}grid\+\+#{$postfix} {
    margin-left: - ekzo-spacing(3);

    > .#{$ekzo-ns}#{$ekzo-objects-ns}grid__item { padding-left: ekzo-spacing(3); }

  }

  .#{$ekzo-ns}#{$ekzo-objects-ns}grid--flush#{$postfix} {
    margin-left: 0;

    > .#{$ekzo-ns}#{$ekzo-objects-ns}grid__item { padding-left: 0; }

  }

}

// ---------------------------------------
// Call grid modifiers mixin
// ---------------------------------------

@if $ekzo-enable-grid {

  @include ekzo-grid-types();

} // endif

// ---------------------------------------
// Call responsive grid modifiers mixin
// ---------------------------------------

@if $ekzo-enable-grid {

  @include ekzo-each-breakpoint($enable-for: $ekzo-responsive-grid-breakpoints) {
    @include ekzo-grid-types($postfix: ekzo-temp());
  };

} // endif