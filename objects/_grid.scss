@if $ekzo-enable-grid {

// =======================================
// ^GRIDS
// =======================================
//
// Fluid and nestable grid system, e.g.:
//
// @example
//
//		<div class="grid">
//
//			<div class="grid__item 1/3">
//				<p>One third grid</p>
//			</div>
//			<div class="grid__item 2/2">
//				<p>Two thirds grid</p>
//			</div>
//			<div class="grid__item 1/2">
//				<p>One half grid</p>
//			</div>
//			<div class="grid__item 1/4">
//				<p>One quarter grid</p>
//			</div>
//			<div class="grid__item 1/4">
//				<p>One quarter grid</p>
//			</div>
//
//		</div>
//
// @demo: jsfiddle.net/inuitcss/CLYUC


// ---------------------------------------
// Grid
// ---------------------------------------
//
// 1. Positioning gutter in the center
// 2. For usage of the grid on lists

// -----
// Standard grid

.grid {
	list-style: none; // 2

	margin-bottom: 0; // 2
	margin-left:   -$ekzo-spacing-unit; // 1
}

	.grid__item {
		@include ekzo-vendor(box-sizing, border-box);

		display: inline-block;

		vertical-align: top;

		padding-left: $ekzo-spacing-unit; // 1
	}

// -----
// Floated grid
// For places, where inline-block-based grid simply doesn't cut

.grid--floated {

	.grid__item { float: left; }

}

// -----
// Very infrequently occurring grid wrappers as children of grid wrappers.

.grid > .grid { margin-left: 0; }



// ---------------------------------------
// Flag Grid
// ---------------------------------------
//
// Throws grid in flag mode
// In that mode grid behaves like table and it's content
// centred vertically

.grid--flag {
	display: table;

	> .grid__item {
		display: table-cell;
		vertical-align: middle;
	}

}



// ---------------------------------------
// Grid fixes
// ---------------------------------------

// -----
// Grid's inline-blocks whitespace fix

.grid { letter-spacing: -.31em; }
// Opera hack
.opera:-o-prefocus,
.grid { word-spacing: -.43em; }

	.grid__item {
		letter-spacing: normal;
		word-spacing: normal;
	}

// -----
// Used to fix strange behaviour in Firefox on inline-grids

.grid--nofix { letter-spacing: normal; }

} // endif



// ---------------------------------------
// Grid modifiers
// ---------------------------------------

@mixin ekzo-grid-types($n: '') {

	// @todo Check do we need it
	.#{$n}grid--reset {
		display: inline-block;

		> .grid__item {
			display: inline-block;
			vertical-align: top;
		}

	}


	// ----
	// Grid gutter sizes

	.#{$n}grid- {
		margin-left: -$ekzo-half-spacing-unit;

		> .grid__item { padding-left: $ekzo-half-spacing-unit; }

	}

	.#{$n}grid\+ {
		margin-left: -$ekzo-double-spacing-unit;

		> .grid__item { padding-left: $ekzo-double-spacing-unit; }

	}

	.#{$n}grid\+\+ {
		margin-left: -$ekzo-triple-spacing-unit;

		> .grid__item { padding-left: $ekzo-triple-spacing-unit; }

	}

	.#{$n}grid--flush {
		margin-left: 0;

		> .grid__item { padding-left: 0; }

	}


	// ----
	// Grid items aligment

	.#{$n}grid--center {
		text-align: center;

		> .grid__item { text-align: left; }

	}

	.#{$n}grid--middle {

		> .grid__item { vertical-align: middle; }

	}

	.#{$n}grid--bottom {

		> .grid__item { vertical-align: bottom; }

	}


	// ----
	// Grid items widths

	.#{$n}grid--auto {

		> .grid__item { width: auto; }

	}

}

@include ekzo-grid-types();

@if $ekzo-enable-grid {
	@if $ekzo-enable-responsive-grid {

		@each $breakpoint, $value in $ekzo-breakpoints {
			@include ekzo-breakpoint($breakpoint) {
				@include ekzo-grid-types('#{$breakpoint}-');
			}
		}

	} // endif
} // endif