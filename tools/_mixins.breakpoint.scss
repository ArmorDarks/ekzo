
// =======================================
// ^MIXINS.BREAKPOINT
// =======================================

// ---------------------------------------
// Breakpoint
// ---------------------------------------
// Advanced media query mixin.
// Accepts Sass map of predefined breakpoints which can be used
// across whole project.
//
// It's not recommend to used media-query on it's own -
// instead it's better keep list of all available media-queries
// in project in single Sass map. Due to that fact, that mixin
// doesn't accept custom queries in plain form.
//
// @param {string}           $breakpoint              - breakpoint name in Sass map of predefined breakpoints.
//                                                      Example of entry:
//                                                      ```
//                                                      lap: '(min-width: #{$lap}) and (max-width: #{$desk - 1px})',
//                                                      ```
// @param (map)              $map='$ekzo-breakpoints' - map with breakpoints
//
// @throws '[ekzo-breakpoint]: undefined breakpoint `#{$breakpoint}` at path `#{$path}` in specified map'
//
// @example
//
//    .component {
//      @include ekzo-breakpoint(lap){ border: 0px; }
//      border: 2px;
//    }
//

@mixin ekzo-breakpoint($breakpoint, $map: $ekzo-breakpoints) {

  $query: ekzo-get($map, $breakpoint);

  // check wether defined breakpoint exists in requested map
  @if not $query {
    @error '[ekzo-breakpoint]: undefined breakpoint `#{$breakpoint}` at path `#{$path}` in specified map'
  }

  // @Note: Use `only` to hide media query from old browsers
  //        Details: http://stackoverflow.com/questions/8549529/what-is-the-difference-between-screen-and-only-screen-in-media-queries
  @media only #{$query} { @content; }

}

// ---------------------------------------
// Include for each breakpoint
// ---------------------------------------

@mixin ekzo-each-breakpoint($enable-for: $ekzo-responsive-helpers-breakpoints) {
  @each $breakpoint, $query in $ekzo-breakpoints {

    // check is current breakpoint in lest of available for auto generation of helper classes
    @if index($enable-for, $breakpoint) != null {
      @include ekzo-breakpoint($breakpoint) {
        $ekzo-__temp: '\\@#{$breakpoint}' !global;
        @content
        $ekzo-__temp: null !global;
      }
    }

  }
}